# AI 협업 가이드라인 (GEMINI.md)

이 문서는 Gemini AI 에이전트와 `docling-translate` 프로젝트를 협업하며 지켜야 할 규칙과 절차를 정의합니다.

## 프로젝트 목표

### 1. 문제 정의 (Problem Statement)

영문 PDF, 특히 기술 문서를 번역하는 것은 상당한 도전입니다. 텍스트를 복사-붙여넣기 하면 서식이 깨져 표준 번역 도구와 호환되지 않는 경우가 많습니다. 기존 PDF 번역기들은 원문과 번역문의 병렬 보기를 제공하지 않아, 기술 용어가 부자연스럽게 번역되었을 때 품질을 검증하고 문맥을 파악하는 데 결정적인 제약이 따릅니다.

### 2. 미션 (Mission)

우리의 미션은 비영어권 사용자들이 기술 PDF 문서를 손쉽게 읽고 이해할 수 있도록 돕는 빠르고 직관적인 오픈소스 도구를 만드는 것입니다. `docling` 라이브러리를 활용하여 문서 구조를 보존하고, 원문과 번역문의 깔끔한 병렬 보기를 제공함으로써, 전 세계 학생, 엔지니어, 연구원들의 언어 장벽을 허무는 것을 목표로 합니다. 이 프로젝트는 항상 오픈소스로 유지되며 모두에게 무료로 제공될 것입니다.

### 3. 핵심 성공 지표

이 프로젝트의 핵심 목표는 `docling` 라이브러리를 활용하여 PDF의 구조를 정확하게 분석하고, **원문과 번역문을 문장 단위로 나란히 비교**할 수 있는 고품질의 결과물을 생성하여 기술 문서 번역의 가독성과 정확성을 높이는 것입니다.

## 핵심 원칙

1.  **계획 우선 (Plan First):** 실제 코드 작성을 시작하기 전에, 항상 상세한 실행 계획을 먼저 수립하고 사용자(개발자)의 승인을 받습니다. 계획에는 파일 구조, 핵심 로직, 사용할 라이브러리, 그리고 기능 구현의 타당성 검토 결과가 포함되어야 합니다.

2.  **참고 자료 우선순위 (Reference Priority):** 코드 구현 시, 제공된 공식 문서(`@docling-docs`)를 최우선으로 참고하여 `docling` 라이브러리의 의도에 맞는 방식으로 코드를 작성해야 합니다.

3.  **모듈성 및 유지보수성 (Modularity & Maintainability):** 기능별로 코드를 모듈화하여 (예: `main.py`, `translator.py`) 가독성과 유지보수성을 높입니다.

4.  **점진적 개발 (Iterative Development):** 복잡한 기능은 한 번에 구현하기보다, 작은 단위로 나누어 점진적으로 개발하고 각 단계에서 확인을 받습니다.

5.  **상세한 한글 주석 (Detailed Korean Commenting):** 모든 코드에는 한글로 명확하고 이해하기 쉬운 주석을 작성하는 것을 원칙으로 합니다. 코드를 수정할 때는 관련된 주석도 반드시 함께 수정하여 항상 코드와 주석이 일치하도록 유지합니다.

6.  **문서 동기화 (Documentation Sync):** `README.md` 수정 시, 반드시 `docs/README.en.md` 파일도 함께 수정하여 두 문서의 내용이 항상 일치하도록 유지합니다.

## 기술 가이드라인 (Technical Guidelines)

1.  **Type Hinting 필수:** 모든 함수와 메서드 시그니처에 Python Type Hinting을 명시하여 코드의 가독성과 안정성을 높입니다.
2.  **Pathlib 사용:** 파일 경로 조작 시 `os.path` 대신 객체 지향적인 `pathlib.Path`를 사용하여 OS 호환성을 확보합니다.
3.  **명시적 에러 처리:** 예외 상황(파일 없음, 변환 실패 등)을 명시적으로 처리하고, 적절한 로그를 남겨 디버깅을 용이하게 합니다. 특히 배치 작업 시 하나의 실패가 전체 프로세스를 중단시키지 않도록 합니다.

## 개발 로드맵 (Development Roadmap)

프로젝트는 다음 우선순위에 따라 진행됩니다:

1.  **사용성 (Usability):** 폴더 번역 기능 추가 등 사용자가 실제 환경에서 편하게 쓸 수 있는 기능 우선 (예: Issue #6).
2.  **성능 (Performance):** 병렬 처리 구현을 통해 대량의 문서 처리 속도 개선 (예: Issue #3).
3.  **품질 (Quality):** 다양한 AI 번역 엔진(DeepL, GPT 등) 지원을 통해 번역 품질 향상 (예: Issue #14).

## 작업 절차

1.  **요구사항 분석:** 사용자의 목표, 핵심 요구사항, 제약 조건 등을 명확히 이해합니다. 불분명한 부분은 질문을 통해 구체화합니다.

2.  **실행 계획 수립 (Plan File 생성):**
    *   `plans/` 폴더에 `issue-[번호]-[설명].md` 형식으로 계획 파일을 생성합니다.
    *   계획 파일에는 목표, 구현 단계, 변경할 파일 목록, 검증 계획 등을 상세히 기술합니다.
    *   위의 '핵심 원칙'을 준수하여 작성합니다.

3.  **사용자 승인:** 사용자가 작성된 계획 파일(`plans/*.md`)을 검토하고 승인할 때까지 대기합니다. 수정 요청이 있을 경우, 계획 파일을 업데이트하고 다시 승인을 요청합니다.

4.  **코드 구현:** 승인된 계획 파일에 따라 코드를 작성합니다. 각 파일의 역할에 맞게 기능을 구현하고, 필요한 경우 주석을 통해 코드의 의도를 설명합니다.

5.  **산출물 생성:** 코드 파일 외에 `requirements.txt`, `README.md` 등 프로젝트에 필요한 모든 산출물을 생성합니다.

6.  **최종 검토 및 완료:** 모든 산출물이 생성되면 사용자에게 최종 결과를 보고하고, 추가적인 지시를 기다립니다.

7.  **병합 및 정리 (Merge & Cleanup):** GitHub에서 PR이 병합되면, 로컬 `main` 브랜치를 최신화(`git pull`)하고 작업했던 브랜치를 삭제하여 작업 환경을 항상 깨끗하게 유지합니다.

## 테스트

코드 변경 후 기능을 확인할 때는 아래의 표준 예제 파일을 사용합니다.

*   **표준 예제 PDF:** `samples/1706.03762v7.pdf`

## 프로젝트 기여 규칙 준수

Gemini AI 에이전트는 이 프로젝트의 공식적인 기여 가이드라인을 따릅니다. 모든 코드 변경, 브랜치 생성, Pull Request 요청은 [`docs/CONTRIBUTING.md`](docs/CONTRIBUTING.md)에 명시된 절차에 따라 진행됩니다.